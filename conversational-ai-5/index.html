<!DOCTYPE HTML>
<html lang="zh-CN">


<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta name="keywords" content="Conversational AI（5）：Multi-Step Reasoning on KB, 自然语言处理 机器学习 数学">
    <meta name="baidu-site-verification" content>
    <meta name="google-site-verification" content>
    <meta name="360-site-verification" content>
    <meta name="description" content="KB-QA is performed in two steps: 

(1) semantic parsing translates a question into a KB query 
(2) KBR traverses the que">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Conversational AI（5）：Multi-Step Reasoning on KB | DaffodilFlower&#39;s blog</title>
    <link rel="icon" type="image/jpeg" href="/favicon.jpg">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">
    <style type="text/css">
        
    </style>

    <script src="/libs/jquery/jquery-2.2.0.min.js"></script>
    <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
    <script>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?46e79e71af0709a5b9106bf20cecc493";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>

<body>

    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/favicon.jpg" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">DaffodilFlower's blog</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fa fa-navicon"></i></a>
<ul class="right">
    
    <li class="hide-on-med-and-down">
        <a href="/" class="waves-effect waves-light">
            
            <span>首页</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/tags" class="waves-effect waves-light">
            
            <span>标签</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/categories" class="waves-effect waves-light">
            
            <span>分类</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/archives" class="waves-effect waves-light">
            
            <span>归档</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/about" class="waves-effect waves-light">
            
            <span>关于</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/friends" class="waves-effect waves-light">
            
            <span>友情链接</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/contact" class="waves-effect waves-light">
            
            <span>留言板</span>
        </a>
    </li>
    
    <li>
        <a href="#searchModal" class="modal-trigger waves-effect waves-light">
            <i id="searchIcon" class="fa fa-search" title="搜索"></i>
        </a>
    </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/favicon.jpg" class="logo-img circle responsive-img">
        
        <div class="logo-name">DaffodilFlower's blog</div>
        <div class="logo-desc">
            
            机器学习 | 自然语言处理 | 数学
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li>
            <a href="/" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-link"></i>
                
                首页
            </a>
        </li>
        
        <li>
            <a href="/tags" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-link"></i>
                
                标签
            </a>
        </li>
        
        <li>
            <a href="/categories" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-link"></i>
                
                分类
            </a>
        </li>
        
        <li>
            <a href="/archives" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-link"></i>
                
                归档
            </a>
        </li>
        
        <li>
            <a href="/about" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-link"></i>
                
                关于
            </a>
        </li>
        
        <li>
            <a href="/friends" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-link"></i>
                
                友情链接
            </a>
        </li>
        
        <li>
            <a href="/contact" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-link"></i>
                
                留言板
            </a>
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/DaffodilFlower" class="waves-effect waves-light" target="_blank">
                <i class="fa fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>

        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/DaffodilFlower" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    
<script src="/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('请输入访问本文章的密码')).toString(CryptoJS.enc.Hex)) {
                alert('密码错误，将返回主页！');
                location.href = '/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/24.jpg')">
    <div class="container">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <div class="description center-align post-title">
                        Conversational AI（5）：Multi-Step Reasoning on KB
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 20px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                        <a href="/tags/Knowledge-Graph-Reasoning/" target="_blank">
                            <span class="chip bg-color">Knowledge Graph Reasoning</span>
                        </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fa fa-bookmark fa-fw icon-category"></i>
                        
                        <a href="/categories/Conversational-AI/" class="post-category" target="_blank">
                            Conversational AI
                        </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                <div class="post-date info-break-policy">
                    <i class="fa fa-calendar-minus-o fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2020-02-15
                </div>

                <div class="post-author info-break-policy">
                    <i class="fa fa-user-o fa-fw"></i>作者:&nbsp;&nbsp;
                    
                    DaffodilFlower
                    
                </div>

                
                
                <div class="info-break-policy">
                    <i class="fa fa-file-word-o fa-fw"></i>文章字数:&nbsp;&nbsp;
                    1.9k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="fa fa-clock-o fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    10 分
                </div>
                
                

                
                <div id="busuanzi_container_page_pv" class="info-break-policy">
                    <i class="fa fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                    <span id="busuanzi_value_page_pv"></span>
                </div>
                
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <p>KB-QA is performed in two steps: </p>
<ul>
<li>(1) semantic parsing translates a question into a KB query </li>
<li>(2) KBR traverses the query-matched paths in a KB to find the answers</li>
</ul>
<p>因此 Knowledge Base Reasoning（KBR）是 KB-QA 的一个 subtask。 </p>
<p>为了在 KB 上进行推理，for each relation $r \in R$, we are interested in learning a set of first-order logical rules in the form of relational paths, $\pi = (r_1, …, r_k)$ </p>
<p><img src="img/2020-02-15-21-27-47.png" alt="图2"></p>
<p>如图2所示，给定 question “What is the citizenship of Obama?”，它被 translated 为 subject-predicate-object triple 形式的 KB query $(Obama, citizenship, ?)$。 除非 KB 中有 $(Obama, citizenship, USA)$ 这样的三元组，一个 multi-step reasoning 过程来推导 answer from the paths that contain relevant triples，如$(Obama, born-in, Hawaii)$ 和 $(Hawaii, part-of, USA)$，using the learned relational paths，如$(born-in, part-of)$。</p>
<p>下面介绍三种 multi-step KBR methods。它们的区别在于 reasoning 是否 performed in a discrete symbolic space or a continuous neural space。</p>
<h2 id="Symbolic-Methods"><a href="#Symbolic-Methods" class="headerlink" title="Symbolic Methods"></a>Symbolic Methods</h2><p>The Path Ranking Algorithm（PRA）（Lao and Cohen, 2010; Lao et al.,2011）is one of the primary symbolic approaches to learning relational paths in large KBs。</p>
<p>PRA 使用 random walks with restarts to perform multiple bounded depth-first search to find relational paths。表1展示了一个 PRA 学习到的 relational paths 样本。Relational path 是一个序列 $\pi = (r_1, …, r_k)$。Relational path 的一个 instance 是一个 nodes 的序列 $e_1, …, e_{k+1}$ 使得 $(ei, ri, ei+1)$ 是一个 valid triple。</p>
<p>在 KBR 过程中，给定一个 query $q = (s, r, ?)$，PRA 选择 $r$ 的relational paths 集合，记作 $B_r = \{\pi1, \pi2, …\}$，然后依据 query 和 $B_r$ traverses the KB，然后使用一个线性模型把每个candidate answer t 打分：</p>
<p><img src="img/2020-02-15-21-51-25.png" alt="图2"></p>
<p>其中</p>
<ul>
<li>$\lambda_{\pi}$ 是 learned weights</li>
<li>$P(t|s,\pi)$ 是通过 instantiates the relational path $\pi$ 的 random walk（path constrained random walk）从 t 到 s 的概率。</li>
</ul>
<p>由于 PRA 在一个完全的离散空间中执行，它不考虑 relation 之间的语义相似性。因此，即使一个很小的 path length，PRA 也会产生 millions of categorically distinct paths，这不仅 hurts generalization but makes reasoning prohibitively expensive。</p>
<p>为了减少 relational paths 的数量，Lao et al.（2011）使用了 heuristics (如 PRA 包含一个 path 需要满足这个path 检索到至少一个 target entity in the training data) 以及在训练图2 linear model 时的 loss function 加上 L1 regularization term。</p>
<p>Gardner et al.（2014）提出了一个 PRA 的改进，利用 KB embedding methods，collapse and cluster PRA paths according to their<br>relation embeddings.</p>
<h2 id="Neural-Methods"><a href="#Neural-Methods" class="headerlink" title="Neural Methods"></a>Neural Methods</h2><p>Implicit ReasoNet（IRN，Shen et al., 2016, 2017a）and Neural Logic Programming（Neural LP，Yang et al., 2017a）are proposed to perform multi-step KBR in a neural space and achieve state-of-the-art results on popular benchmarks. </p>
<p>总体架构如图3所示：</p>
<p><img src="img/2020-02-15-22-17-53.png" alt="图3"></p>
<p>下面用 IRN 作为例子来描述 neural methods。</p>
<p>IRN 包含四个模块：encoder, decoder, shared memory, and controller。</p>
<ul>
<li>Encoder and Decoder These two modules are task-dependent. Given an input query (s, r, ?), the encoder maps s and r, respectively, into their embedding vectors and then concatenates the<br>two vectors to form the initial hidden state vector s0 of the controller. The use of vectors rather than<br>matrices for relation representations is inspired by the bilinear-diag model (Yang et al., 2015), which<br>restricts the relation representations to the class of diagonal matrices.</li>
</ul>
<p>The decoder outputs a prediction vector o = tanh(W&gt;<br>o<br>st + bo), a nonlinear projection of state s<br>at time t, where Wo and bo are the weight matrix and bias vector, respectively. In KBR, we can<br>map the answer vector o to its answer node (entity) o in the symbolic space based on L1 distance as<br>o = arg mine∈E ko − xek1, where xe is the embedding vector of entity e.</p>
<ul>
<li><p>Shared Memory The shared memory M is differentiable, and consists of a list of vectors<br>{mi}1≤i≤|M| that are randomly initialized and updated through back-propagation in training. M<br>stores a compact version of KB optimized for the KBR task. That is, each vector represents a<br>concept (a cluster of relations or entities) and the distance between vectors represents the semantic<br>relatedness of these concepts. For example, the system may fail to answer the question (Obama,<br>citizenship, ?) even if it finds the relevant facts in M, such as (Obama, born-in, Hawaii)<br>and (Hawaii, part-of, USA), because it does not know that bore-in and citizenship are semantically related relations. In order to correct the error, M needs to be updated using the gradient<br>to encode the piece of new information by moving the two relation vectors closer to each other in<br>the neural space.</p>
</li>
<li><p>Controller The controller is implemented as an RNN. Given initial state s0, it uses attention to<br>iteratively lookup and fetch information from M to update the state st at time t according to Eqn. 3.4,<br>until it decides to terminate the reasoning process and calls the decoder to generate the output.</p>
</li>
</ul>
<p>where W’s are learned projection matrices, λ a scaling factor and g a nonlinear activation function.<br>The reasoning process of IRN can be viewed as a Markov Decision Process (MDP), as illustrated in<br>Sec. 2.3.1. The step size in the information lookup and fetching sequence of Eqn. 3.4 is not given<br>by training data, but is decided by the controller on the fly. More complex queries need more steps.<br>Thus, IRN learns a stochastic policy to get a distribution over termination and prediction actions<br>by the REINFORCE algorithm (Williams, 1992), which is described in Sec. 2.3.2 and Eqn. 2.7.<br>Since all the modules of IRN are differentiable, IRN is an end-to-end differentiable neural model<br>whose parameters, including the embedded KB matrix M, can be jointly optimized using SGD on<br>the training samples derived from a KB, as shown in Fig. 3.3.</p>
<p>就像在《Conversational AI（2）：Approaches的变迁》的图2所示，neural methods operate in a continuous neural space，不会 suffer from<br>the problems associated with symbolic methods。它们对于 paraphrase alternations 非常健壮，这是因为 knowledge is implicitly represented by semantic classes via continuous vectors and matrices。它们也不会 suffer from the search complexity issue even with complex queries (e.g.path queries) and a very large KB，这是因为它们在 KB 的 compact representation（the matrix M in the shared memory in IRN）上进行推理，而不是在 KB 本身进行推理。</p>
<p><strong>One of the major limitations of these methods is the lack of interpretability</strong>。不像 PRA 显式的通过图2 traverses the paths in the graph，IRN 在 reasoning 的时候不会显式的 follow 任何一个 KB 中的 path，而是执行 lookup operations over the shared memory iteratively using the RNN controller with attention，each time using the revised internal state s as a query for lookup。</p>
<p>It remains challenging to recover the symbolic representations of queries and paths (or first-order logical rules) from the neural controller. See (Shen et al., 2017a; Yang et al., 2017a) for some<br>interesting preliminary results of interpretation of neural method。</p>
<h2 id="Reinforcement-Learning-based-Methods"><a href="#Reinforcement-Learning-based-Methods" class="headerlink" title="Reinforcement Learning based Methods"></a>Reinforcement Learning based Methods</h2><p>DeepPath (Xiong et al., 2017), MINERVA (Das et al., 2017b) and M-Walk (Shen et al., 2018) are among the state-of-the-art methods that use RL for multi-step reasoning over a KB. </p>
<p>它们使用一个 policy-based agent with continuous states based on KB embeddings to traverse the knowledge graph to identify the answer node (entity) for an input query. </p>
<p>RL-based methods 和 neural methods 一样健壮，这是由于使用了 continuous vectors for state representation，也和 symbolic methods 一样可解释，这是因为 agents 显式的 traverse the paths in the graph.</p>
<p>把 KBR 形式化为一个 MDP $(S,A, R,P)$，其中： </p>
<ul>
<li>S is the continuous state space</li>
<li>A the set of available actions</li>
<li>P the state transition probability matrix</li>
<li>R the reward function. </li>
</ul>
<p>下面使用  M-Walk 来描述。 </p>
<p>把 KB 表示为 graph $\mathcal G(\mathcal E, \mathcal R)$ ，包含 entity nodes 集合 $\mathcal E$ 和 relation edges 集合 $\mathcal R$ 。</p>
<p>把 KB query 表示为 $q = (e0, r, ?)$，其中  $e_0$ and $r$ are the given source node and relation, respectively, and $?$ the answer node to be identified.</p>
<ul>
<li><p>States：设 $s_t$ 表示 state at time t，它 encodes information of all traversed nodes up to t，所有以前的 selected actions 和 the initial query q。 $s_t$ 可以被递归的定义为：</p>
<p>  <img src="img/2020-02-15-22-51-42.png" alt></p>
<p>  其中：</p>
<ul>
<li><p>$a_t \in A$ 是 agent 在 time t 选择的 action</p>
</li>
<li><p>$e_t$ 是当前访问的node</p>
</li>
<li><p>$R_{et} \in R$ 是 $e_t$ 所有边的集合 </p>
</li>
<li><p>$E_{et} \in E$ 连接到 $e_t$ 所有 nodes 的集合 </p>
<p>注意到 RL-based methods, $s_t$ 使用被表示为一个 continuous vector，如 M-Walk 和 MINERVA 用 RNN，DeepPath 用 MLP</p>
</li>
</ul>
</li>
<li><p>Actions：基于 $s_t$， agent selects one of the following actions: </p>
<ul>
<li>(1) choosing an edge in Eet and moving to the next node et+1 ∈ E</li>
<li>(2) terminating the reasoning process and outputting thecurrent node et as a prediction of the answer node eT .</li>
</ul>
</li>
<li><p>Transitions：The transitions are deterministic. As shown in Fig. 3.2, once action at is selected, the next node et+1 and its associated Eet+1 and Ret+1 are known.</p>
</li>
<li><p>Rewards：We only have the terminal reward of +1 if eT is the correct answer, and 0 otherwise.</p>
</li>
<li><p>Policy：Network The policy $\pi_{\theta}(a|s)$ 表示给定 state s 选择 action 的概率，通过参数为 $\theta$ 的 neural network 实现。The policy network 通过最大化从 $s_0$ 开始的按照 policy πθ 的 long-term reward $E[V_{\theta}(s_0)]$ 进行优化。</p>
<p>  In KBR, the policy network can be trained using RL, such as the REINFORCE method, from the training samples in the form of triples $(e_s, r, e_t)$ extracted from a KB。</p>
<p>  为了解决 reward sparsity issue (即 the reward is only available at the end of a path)，Shen et al.（2018）提出用 Monte Carlo Tree Search 来生成 a set of simulated paths with more positive terminal rewards by exploiting the fact that all the transitions are deterministic for a given knowledge graph。</p>
</li>
</ul>

            </div>
            <hr />

            

            <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    <div class="social-share" data-disabled="qzone" data-wechat-qrcode-helper="<p>微信里点“发现”->“扫一扫”二维码便可查看分享。</p>"></div>
    
</div>

<script src="/libs/share/js/social-share.min.js"></script>

            

    <div class="reprint" id="reprint-statement">
        <p class="reprint-tip">
            <i class="fa fa-exclamation-triangle"></i>&nbsp;&nbsp;
            <span>转载规则</span>
        </p>
        
            <div class="center-align">
                <a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.zh">
                    <img alt=""
                         style="border-width:0"
                         src="https://i.creativecommons.org/l/by/4.0/88x31.png"/>
                </a>
            </div>
            <br/>
            <span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text"
                  property="dct:title" rel="dct:type">
                    《Conversational AI（5）：Multi-Step Reasoning on KB》
                </span> 由
            <a xmlns:cc="http://creativecommons.org/ns#" href="/conversational-ai-5/" property="cc:attributionName"
               rel="cc:attributionURL">
                DaffodilFlower
            </a> 采用
            <a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.zh">
                知识共享署名 4.0 国际许可协议
            </a>进行许可。
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>


        </div>
    </div>

    
    <link rel="stylesheet" href="/libs/gitalk/gitalk.css">
<link rel="stylesheet" href="/css/my-gitalk.css">

<div class="card gitalk-card" data-aos="fade-up">
    <div id="gitalk-container" class="card-content"></div>
</div>

<script src="/libs/gitalk/gitalk.min.js"></script>
<script>
    let gitalk = new Gitalk({
        clientID: 'ae8f014f2c3fe7efa4e3',
        clientSecret: 'd56a98054879972a57f7fe2e54fe1ae3a2bb3ac5',
        repo: 'DaffodilFlower.github.io',
        owner: 'DaffodilFlower',
        admin: "DaffodilFlower",
        id: 'conversational-ai-5/',
        distractionFreeMode: false  // Facebook-like distraction free mode
    });

    gitalk.render('gitalk-container');
</script>
    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fa fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/leetcode-21/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/18.jpg" class="responsive-img" alt="LeetCode 21 Merge Two Sorted Lists">
                        
                        <span class="card-title">LeetCode 21 Merge Two Sorted Lists</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            这是一道easy题
要求Merge two sorted linked lists and return it as a new list. The new list should be made by splicing together 
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="fa fa-clock-o fa-fw icon-date"></i>2020-03-21
                        </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/面试/" class="post-category" target="_blank">
                                    面试
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/面试/" target="_blank">
                        <span class="chip bg-color">面试</span>
                    </a>
                    
                    <a href="/tags/LeetCode/" target="_blank">
                        <span class="chip bg-color">LeetCode</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fa fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/conversational-ai-4/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/5.jpg" class="responsive-img" alt="Conversational AI（4）：Sematic Parsing and Embedding-based methods for KBQA">
                        
                        <span class="card-title">Conversational AI（4）：Sematic Parsing and Embedding-based methods for KBQA</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            KB 和 KGKnowledge Base（KB）Organizing the world’s facts and storing them in a structured database, large scale KB like DBP
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="fa fa-clock-o fa-fw icon-date"></i>2020-02-15
                            </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Conversational-AI/" class="post-category" target="_blank">
                                    Conversational AI
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/QA/" target="_blank">
                        <span class="chip bg-color">QA</span>
                    </a>
                    
                    <a href="/tags/KBQA/" target="_blank">
                        <span class="chip bg-color">KBQA</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>
</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('20')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: DaffodilFlower's blog<br />'
            + '作者: DaffodilFlower<br />'
            + '链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () { bodyElement.removeChild(newdiv); }, 200);
    });
</script>

    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="fa fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fa fa-list"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            // headingsOffset: -205,
            headingSelector: 'h1, h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).slideUp(500);
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).slideDown(500);
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>
    

</main>


<script src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
    MathJax.Hub.Config({
        tex2jax: {inlineMath: [['$', '$'], ['\(', '\)']]}
    });
</script>

    
<footer class="page-footer bg-color">
    <div class="container row center-align">
        <div class="col s12 m8 l8 copy-right">
            &copy; 2019 DaffodilFlower. All Rights Reserved.

            
            &nbsp;<i class="fa fa-area-chart"></i>&nbsp;站点总字数:&nbsp;
            <span class="white-color">9.1k</span>
            

            <br>
            <span id="sitetime"></span>

            
            
            <br>
            
            <span id="busuanzi_container_site_pv" style='display:none'>
                <i class="fa fa-heart-o"></i>
                本站总访问量 <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
            <span id="busuanzi_container_site_uv" style='display:none'>
                人次,&nbsp;访客数 <span id="busuanzi_value_site_uv" class="white-color"></span> 人.
            </span>
            
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/DaffodilFlower" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fa fa-github"></i>
    </a>











    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fa fa-rss"></i>
    </a>
</div>
    </div>
</footer>

<div class="progress-bar"></div>

<!-- 不蒜子计数初始值纠正 -->
<script>
    $(document).ready(function () {

        var int = setInterval(fixCount, 50);
        var pvcountOffset = 0;
        var uvcountOffset = 0;

        function fixCount() {
            if (document.getElementById("busuanzi_container_site_pv").style.display != "none") {
                $("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html()) + pvcountOffset);
                clearInterval(int);
            }
            if ($("#busuanzi_container_site_pv").css("display") != "none") {
                $("#busuanzi_value_site_uv").html(parseInt($("#busuanzi_value_site_uv").html()) + uvcountOffset); // 加上初始数据 
                clearInterval(int);
            }
        }
    });
</script>

<script language=javascript>
    function siteTime() {
        window.setTimeout("siteTime()", 1000);
        var seconds = 1000;
        var minutes = seconds * 60;
        var hours = minutes * 60;
        var days = hours * 24;
        var years = days * 365;
        var today = new Date();
        var todayYear = today.getFullYear();
        var todayMonth = today.getMonth() + 1;
        var todayDate = today.getDate();
        var todayHour = today.getHours();
        var todayMinute = today.getMinutes();
        var todaySecond = today.getSeconds();
        /* Date.UTC() -- 返回date对象距世界标准时间(UTC)1970年1月1日午夜之间的毫秒数(时间戳)
        year - 作为date对象的年份，为4位年份值
        month - 0-11之间的整数，做为date对象的月份
        day - 1-31之间的整数，做为date对象的天数
        hours - 0(午夜24点)-23之间的整数，做为date对象的小时数
        minutes - 0-59之间的整数，做为date对象的分钟数
        seconds - 0-59之间的整数，做为date对象的秒数
        microseconds - 0-999之间的整数，做为date对象的毫秒数 */
        var t1 = Date.UTC(2020, 02, 04, 17, 00, 00); //北京时间2018-2-13 00:00:00
        var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
        var diff = t2 - t1;
        var diffYears = Math.floor(diff / years);
        var diffDays = Math.floor((diff / days) - diffYears * 365);
        var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
        var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) / minutes);
        var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours - diffMinutes * minutes) / seconds);
        document.getElementById("sitetime").innerHTML = "本站已运行 " + diffYears + " 年 " + diffDays + " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
    }/*因为建站时间还没有一年，就将之注释掉了。需要的可以取消*/
    siteTime();
</script>



    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fa fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fa fa-angle-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <script type="text/javascript"> var OriginTitile = document.title, st; document.addEventListener("visibilitychange", function () { document.hidden ? (document.title = "Σ(っ °Д °;)っ喔哟，崩溃啦！", clearTimeout(st)) : (document.title = "φ(゜▽゜*)♪咦，又好了！", st = setTimeout(function () { document.title = OriginTitile }, 3e3)) })
    </script>

    <!-- Global site tag (gtag.js) - Google Analytics -->

<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', '');
</script>



    
    <script src="/libs/others/clicklove.js"></script>
    

    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    <!-- 雪花特效 -->
    

</body>

</html>